# Claude Agent Instructions

このファイルは、Claude Codeエージェントがこのプロジェクトで作業する際の指示書です。

## Git操作ルール

### コミット・プッシュについて
- **重要**: 変更のコミットやプッシュは、ユーザーから明確に指示されるまで実行しないこと
- ユーザーが「コミットして」「プッシュして」と明示的に指示した場合のみ実行する
- コミットメッセージには必ず以下を含める:
  ```
  Co-Authored-By: Claude <noreply@anthropic.com>
  ```

## プロジェクト概要

シーシャ店向けの台メンテナンス管理PWAアプリケーション

- フレームワーク: Next.js 15 (App Router)
- 言語: TypeScript
- スタイリング: Tailwind CSS (ネオンサイバーパンクテーマ)
- データベース: IndexedDB (Dexie.js)

## コーディング規約

### アーキテクチャ原則
1. **レイヤー構造を維持**
   - UIレイヤー: `app/`
   - ドメイン層: `lib/domain.ts` (ビジネスロジック)
   - データアクセス層: `lib/db.ts` (IndexedDB)

2. **データ操作**
   - すべてのデータベース操作は `lib/domain.ts` を経由すること
   - UIコンポーネントで直接 `db` をインポートしない

### スタイリング原則
1. 既存のネオンカラーパレットを使用
   - シアン (#22d3ee): すす捨て
   - ピンク (#ec4899): 炭交換
   - パープル (#a855f7): 調整
   - グリーン (#22c55e): フレーバー名

2. hover状態には `transition-colors` または `transition-all` を適用
3. ボタンには `neon-border-*` クラスを使用
4. アイコンサイズ: 大ボタン24px、インライン14px、ナビゲーション18px

### コミット規約
- feat: 新機能追加
- fix: バグ修正
- style: スタイリング変更
- refactor: リファクタリング
- docs: ドキュメント更新

## 注意事項

### Next.js 15
- `viewport` は `metadata` から分離して export する
- すべてのページコンポーネントは `'use client'` ディレクティブを使用

### エラーハンドリング
- エラーは console.error で記録
- ユーザーに分かりやすいエラーメッセージを表示

## デバッグ

- IndexedDB: Chrome DevTools > Application > IndexedDB > HookahHeatManagement
- PWAテスト: localhost:3000 でアクセス後、「アプリをインストール」または「ホーム画面に追加」
